<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script>
	// 간단 jQuery 만들어 보기
	let jQuery = function(selector){
		let elements = document.querySelectorAll(selector);
		return new _jQuery(elements);
	}
	
	let _jQuery = function(elements){
		this.length = elements.length;
		for(let i=0; i<elements.length; i++){
			this[''+i] = elements[i];
		}
	}
	
	_jQuery.prototype.css = function(name, value){
		for(let i=0; i<this.length; i++){
			this[i].style[name] = value;
		}
	}
	
	_jQuery.prototype.get = function(index){
		return this[index];
	}
	
	_jQuery.prototype.click = function(handler){
		for(let i=0; i<this.length; i++){
			this[i].addEventListener('click', handler);
		}
	}
	
	let $ = jQuery;
	
	// test code
	window.addEventListener('load', function(){
		let $obj = $('.par');
		
		console.log($obj[0], $obj.get(0));
		
		$obj.click(function(){
			console.log('clicked: ' + this);
			// console.log($(this));
			// $(this).css('text-decoration', 'underline');
		});
		
		
		setTimeout(function(){
			$obj.css('color', 'red');
		},2000);
		
	});
</script>
</head>

<body>
	<h1>simple jQuery 만들기</h1>
	<p class='par'>문장1</p>
	<p>문장2</p>
	<p class='par'>문장3</p>
	<p>문장4</p>
</body>
</html>